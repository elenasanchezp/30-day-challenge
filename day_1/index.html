<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Day 1 | 30-day-challenge</title>
		<link rel="stylesheet" href="stylesheet/style.css"/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	</head>
	<body>

		<div class="header">  
			<h1>Day 1: JS Sounds Kit</h1>
			<a href="../index.html"> Go back to Calendar </a>
		</div>

		<div class="container">
			<div class="keys">
				
				<div data-key="67" class="key">
					<kdb>Pulse C</kdb>
					<span class="sound">Canary</span>
				</div>
				<div data-key="69" class="key">
					<kdb>Pulse E</kdb>
					<span class="sound">Elephant</span>
				</div>
				<div data-key="76" class="key">
					<kdb>Pulse L</kdb>
					<span class="sound">Lion</span>
				</div>
				<div data-key="77" class="key">
					<kdb>Pulse M</kdb>
					<span class="sound">Monkey</span>
				</div>
				<div data-key="84" class="key">
					<kdb>Pulse T</kdb>
					<span class="sound">Tiger</span>
				</div>
				<div data-key="86" class="key">
					<kdb>Pulse V</kdb>
					<span class="sound">Vulture</span>
				</div>

			</div>

			<audio data-key="67" src="sounds/canary.wav"></audio>
			<audio data-key="69" src="sounds/elephant.wav"></audio>
			<audio data-key="76" src="sounds/lion.wav"></audio>
			<audio data-key="77" src="sounds/monkey.wav"></audio>
			<audio data-key="84" src="sounds/tiger.wav"></audio>
			<audio data-key="86" src="sounds/vulture.wav"></audio>

		</div>

		<div class="footer">  
			<div class="social">
				<a href="https://github.com/elenasanchezp" title="GitHub">GitHub</a>
				<a href="https://www.linkedin.com/in/elena-s%C3%A1nchez-5572a726/" title="LinkedIn">LinkedIn</a>
				<a href="https://twitter.com/elena_sanchez_p" title="Twitter">Twitter</a>
			</div>
		</div>

		<script>

			function playSound(e){
				const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
				const key = document.querySelector(`div[data-key="${e.keyCode}"]`);

				if(!audio){
					return;
				}

				audio.currentTime = 0;
				audio.play();

				key.classList.add('playing'); 
			}


			function removeTransitionend(e){

				if(e.propertyName !== 'transform') return;
				this.classList.remove('playing'); 
			}

			const keys = document.querySelectorAll('.key'); 
			keys.forEach(key => key.addEventListener('transitionend', removeTransitionend));

			window.addEventListener('keydown', playSound);

		</script>

	</body>
</html>



